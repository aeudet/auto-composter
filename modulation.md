- Home key set at start

WHEN TO MODULATE CHECK:
- Do modulation check on each letter (A,B,C,D,etc)
	- if yes, modulation every instance of letter in relation to home key
	- 1 in 8 chance to modulate on better
	- parallel key modulation
	- relative key modulation
	- neighbour key modulation
	- near key modulation, foreign key modulation


- Do modulation check for each instance of each letter
	
	- Truck Driver
	- 1 in 20 chance modulation
	- markov chain check for odds update and type 


TYPES:

- PARALLEL KEY MODULATION
	- Shift Major/Minor key on same tonic root
	- May require last chord of previous to be set to a picot chord. Pivot chord may be tacked on at end of progression. (ii - IV :| V :|)


- RELATIVE KEY MODULATION
	- Shift from Major to Minor, or vice versa to the relative key of opposite mode. 
	- For Major key, take tonic and move down 3 semi-tones. For Minor, take root and move up 3 semi-tones. 
	- The vi in major is tonic in relative minor
	- Use pre-tonic (V, IV, ii) chord to get back to Major from Minor

- NEIGHBOUR KEY MODULATION
	- Shift to keys next to home key in circle of fifths.
	- VARIANT: Shift to neighbour and change mode

- Near-Key Modulation
	- Shift from home key to key 4 steps away
	- Shift from home key to key 5 steps away


- Foreign-Key Modulation
	

- KEY SHIFT (half or whole step up or down)


End chord of previous section may have to be altered to a pivot chord in case of modulation

Splice bridge section into structure






Modulation Types:

+1 (half-step up)
-1 (half-step down)

+2 (whole-step up)
-2 (whole-step down)

-3 (major to minor) check key state
+3 (minor to major) check key state

±3 to ±11
